# 中缀表达式-----c语言

#### 功能

1.将中缀表达式先转换为后缀表达式；

2.计算后缀表达式的值；

#### 说明

<table><tr><td bgcolor = "yellow">此程序只适用于单位数的表达式</td></tr></table>如：==2+3*(4+5);==

#### 程序说明

<font size = "5" face = "楷体" color = "red">1.中缀转后缀</font>

(1) 初始化两个栈：运算符栈S1和数字栈S2；
(2) 从左至右扫描中缀表达式；
(3) 遇到操作数时，将其直接压入S2；
(4) 遇到运算符时，比较其与S1栈顶运算符的优先级：

4_1.如果S1为空，或栈顶运算符为左括号“(”，则直接将此运算符入栈；

4_2.否则，若优先级比栈顶运算符的高，也将运算符压入S1（注意转换为前缀表达式时是优先级较高或相同，而这里则不包括相同的情况）；

4_3否则，将S1栈顶的运算符弹出并压入到S2中，再将此运算符存入S2栈中。、

(5) 遇到括号时：

5_1、如果是左括号“(”，则直接压入S1；

5_2、如果是右括号“)”，则依次弹出S1栈顶的运算符，并压入S2，直到遇到左括号为止，此时将这一对括号丢弃；
(6) 重复步骤(2)至(5)，直到表达式的最右边；
(7) 将S1中剩余的运算符依次取出并压入S2；
(8) 依次弹出S2中的元素并输出，结果的逆序即为中缀表达式对应的后缀表达式。

<font size = "5" face = "楷体" color = "red">2.计算后缀表达式</font>

(1)将S1中的字符按出栈顺序存入字符数组B中；

(2)判断字符：

2_1、如果字符为数字则进行下一轮循环；

2_2、如果字符为运算符则先将B数组中此运算符的前两位转换成相对应的int类型，分别赋给x、y，之后再根据运算符进行计算，计算后的字符，存入第一个数字字符所在位置，之后将后面的字符依次覆盖前面的字符，再将下标移至该结果处，最后将数组B的长度减2。如图：

![示意图][1]

(3)、输出结果。

[1]:C:\Users\gaidi\Desktop\无标题.png



